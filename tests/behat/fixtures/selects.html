<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Select Fields Test Page</title>
  <style>
    .form-container { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    select { margin: 5px 0; padding: 5px; min-width: 200px; }
    button { margin-top: 15px; padding: 8px 15px; }
  </style>
</head>
<body>
  <h1>Select Fields Test Page</h1>

  <!-- Form with multi-select field -->
  <div class="form-container">
    <h2>Multi-Select Form</h2>
    <form id="multi-select-form" action="/submit" method="post">
      <div>
        <label for="multi-select-options">Multi-select options:</label>
        <select id="multi-select-options" name="multi_select_options[]" multiple size="5">
          <option value="option_a">Option A</option>
          <option value="option_b">Option B</option>
          <option value="option_c">Option C</option>
        </select>
      </div>

      <div>
        <label for="single-select">Single select field:</label>
        <select id="single-select" name="single_select">
          <option value="">- Select -</option>
          <option value="choice_1">Choice 1</option>
          <option value="choice_2">Choice 2</option>
          <option value="choice_3">Choice 3</option>
        </select>
      </div>

      <button type="submit">Submit</button>
    </form>
  </div>

  <!-- Display selected values -->
  <div class="form-container">
    <h2>Selected Values</h2>
    <div id="selected-values"></div>
  </div>

  <script>
    // Update display when selections change
    function updateDisplay() {
      const multiSelect = document.getElementById('multi-select-options');
      const singleSelect = document.getElementById('single-select');
      const display = document.getElementById('selected-values');

      const multiValues = Array.from(multiSelect.selectedOptions).map(opt => opt.text);
      const singleValue = singleSelect.selectedOptions[0]?.text || 'None';

      display.innerHTML = `
        <p><strong>Multi-select:</strong> ${multiValues.length > 0 ? multiValues.join(', ') : 'None'}</p>
        <p><strong>Single select:</strong> ${singleValue}</p>
      `;
    }

    document.getElementById('multi-select-options').addEventListener('change', updateDisplay);
    document.getElementById('single-select').addEventListener('change', updateDisplay);

    // Initialize display
    updateDisplay();

    // Prevent form submission
    document.getElementById('multi-select-form').addEventListener('submit', function(e) {
      e.preventDefault();
      updateDisplay();
    });
  </script>
</body>
</html>
