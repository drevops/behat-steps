# Migration

A migration map of the step definitions available in v2 to v3.

| V2                                                                                                                           | V3                                                                                                                                                                                                                             |
|------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **[`ContentTrait`](src/ContentTrait.php) ([example](tests/behat/features/content.feature))**                                 |                                                                                                                                                                                                                                |
| `Given no :type content type`                                                                                                | `Given the content type :content_type does not exist`                                                                                                                                                                          |
| `Given no ([a-zA-z0-9_-]+) content:$/`                                                                                       | `Given the following :content_type content does not exist:`                                                                                                                                                                    |
| `When I visit :type :title`                                                                                                  | `When I visit the :content_type content page with the title :title`                                                                                                                                                            |
| `When I edit :type :title`                                                                                                   | `When I visit the :content_type content edit page with the title :title`                                                                                                                                                       |
| `When I delete :type :title`                                                                                                 | `When I visit the :content_type content delete page with the title :title`                                                                                                                                                     |
| `When the moderation state of :type :title changes from :old_state to :new_state`                                            | `When I change the moderation state of the :content_type content with the title :title to the :new_state`                                                                                                                      |
| `When I visit :type :title scheduled transitions`                                                                            | `When I visit the scheduled transitions page of the :content_type content with the title :title`                                                                                                                               |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`CookieTrait`](src/CookieTrait.php) ([example](tests/behat/features/cookie.feature))**                                    |                                                                                                                                                                                                                                |
| `Then a cookie with( the) name :name should exist`                                                                           | `Then a cookie with the name :name should exist`                                                                                                                                                                               |
| `Then a cookie with( the) name :name and value :value should exist`                                                          | `Then a cookie with the name :name and the value :value should exist`                                                                                                                                                          |
| `Then a cookie with( the) name :name and value containing :partial_value should exist`                                       | `Then a cookie with the name :name and a value containing :partial_value should exist`                                                                                                                                         |
| `Then a cookie with( the) name containing :partial_name should exist`                                                        | `Then a cookie with a name containing :partial_name should exist`                                                                                                                                                              |
| `Then a cookie with( the) name containing :partial_name and value :value should exist`                                       | `Then a cookie with a name containing :partial_name and the value :value should exist`                                                                                                                                         |
| `Then a cookie with( the) name containing :partial_name and value containing :partial_value should exist`                    | `Then a cookie with a name containing :partial_name and a value containing :partial_value should exist`                                                                                                                        |
| `Then a cookie with( the) name :name should not exist`                                                                       | `Then a cookie with the name :name should not exist`                                                                                                                                                                           |
| `Then a cookie with( the) name :name and value :value should not exist`                                                      | `Then a cookie with the name :name and the value :value should not exist`                                                                                                                                                      |
| `Then a cookie with( the) name :name and value containing :partial_value should not exist`                                   | `Then a cookie with the name :name and a value containing :partial_value should not exist`                                                                                                                                     |
| `Then a cookie with( the) name containing :partial_name should not exist`                                                    | `Then a cookie with a name containing :partial_name should not exist`                                                                                                                                                          |
| `Then a cookie with( the) name containing :partial_name and value :value should not exist`                                   | `Then a cookie with a name containing :partial_name and the value :value should not exist`                                                                                                                                     |
| `Then a cookie with( the) name containing :partial_name and value containing :partial_value should not exist`                | `Then a cookie with a name containing :partial_name and a value containing :partial_value should not exist`                                                                                                                    |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`DraggableviewsTrait`](src/DraggableviewsTrait.php) ([example](tests/behat/features/draggableviews.feature))**            |                                                                                                                                                                                                                                |
| `Then I save draggable views :view_id view :views_display_id display :bundle items in the following order:`                  | `When I save the draggable views items of the view :view_id and the display :views_display_id for the :bundle content in the following order:`                                                                                 |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`EckTrait`](src/EckTrait.php) ([example](tests/behat/features/eck.feature))**                                             |                                                                                                                                                                                                                                |
| `Given :bundle :entity_type entities:`                                                                                       | `Given the following eck :bundle :entity_type entities exist:`                                                                                                                                                                 |
| `Given no :bundle :entity_type entities:`                                                                                    | `Given the following eck :bundle :entity_type entities do not exist:`                                                                                                                                                          |
| `When I edit :bundle :entity_type with title :label`                                                                         | `When I edit eck :bundle :entity_type entity with the title :title`                                                                                                                                                            |
| `When I visit :bundle :entity_type with title :label`                                                                        | `When I visit eck :bundle :entity_type entity with the title :title`                                                                                                                                                           |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`ElementTrait`](src/ElementTrait.php) ([example](tests/behat/features/element.feature))**                                 |                                                                                                                                                                                                                                |
| `Then I( should) see the :selector element with the :attribute attribute set to :value`                                      | `Then the element :selector with the attribute :attribute and the value :value should exist`                                                                                                                                   |
| `I( should) see the :selector element with a(n) :attribute attribute containing :value`                                      | `Then the element :selector with the attribute :attribute and the value containing :value should exist`                                                                                                                        |
| `Then I should see an element :selector using :type contains :text text`                                                     | Removed. Use `Then /^the "(?P<element>[^"]*)" element should contain "(?P<value>(?:[^"]\|\\")*)"$/` instead.                                                                                                                   |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`EmailTrait`](src/EmailTrait.php) ([example](tests/behat/features/email.feature))**                                       |                                                                                                                                                                                                                                |
| `Given I enable the test email system`                                                                                       | `When I enable the test email system`                                                                                                                                   |
| `Given I disable the test email system`                                                                                      | `When I disable the test email system`                                                                                                                                   |
| `Then an email is sent to :address`                                                                                          | `Then an email should be sent to the :address`                                                                                                                                   |
| `Then no emails were sent`                                                                                                   | `Then no emails should be sent`                                                                                                                                   |
| `Then no emails were sent to :address`                                                                                       | `Then no emails should be sent to the :address`                                                                                                                                   |
| `Then an email header :header contains:`                                                                                     | `Then the email header :header should contain:`                                                                                                                                   |
| `Then an email header :header contains exact:`                                                                               | `Then the email header :header should exactly be:`                                                                                                                                   |
| `Then /^an email to "(?P<name>[^"]*)" user is "(?P<action>[^"]*)" with "(?P<field>[^"]*)" content:$/`                        | `Then an email should be sent to the address :address with the content:`                                                                                                                                   |
| `NEW`                                                                                                                        | `Then an email should be sent to the address :address with the content containing:`                                                                                                                                   |
| `NEW`                                                                                                                        | `Then an email should be sent to the address :address with the content not containing:`                                                                                                                                   |
| `NEW`                                                                                                                        | `Then an email should not be sent to the address :address with the content:`                                                                                                                                   |
| `NEW`                                                                                                                        | `Then an email should not be sent to the address :address with the content containing:`                                                                                                                                   |
| `Then an email :field contains`                                                                                              | `Then the email field :field should contain:`                                                                                                                                   |
| `Then an email :field contains exact`                                                                                        | `Then the email field :field should be:`                                                                                                                                   |
| `Then an email :field does not contain`                                                                                      | `Then the email field :field should not contain:`                                                                                                                                   |
| `Then an email :field does not contains exact`                                                                               | `Then the email field :field should not be:`                                                                                                                                   |
| `When I follow the link number :number in the email with the subject`                                                        | `When I follow link number :link_number in the email with the subject :subject`                                                                                                                                   |
| `NEW`                                                                                                                        | `When I follow link number :link_number in the email with the subject containing :subject`                                                                                                                                   |
| `Then file :name attached to the email with the subject`                                                                     | `Then the file :file_name should be attached to the email with the subject :subject`                                                                                                                                   |
| `NEW`                                                                                                                        | `Then the file :file_name should be attached to the email with the subject containing :subject`                                                                                                                                   |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`FieldTrait`](src/FieldTrait.php) ([example](tests/behat/features/field.feature))**                                       |                                                                                                                                                                                                                                |
| `Then I see field :name`                                                                                                     | `Then the field :name should exist`                                                                                                                                                                                            |
| `Then I don't see field :name`                                                                                               | `Then the field :name should not exist`                                                                                                                                                                                        |
| `Then field :name :exists on the page`                                                                                       | `REMOVED`                                                                                                                                                                                                                      |
| `Then field :name should be :presence on the page and have state :state`                                                     | `REMOVED`                                                                                                                                                                                                                      |
| `Then field :name is :disabled on the page`                                                                                  | `Then the field :name should be disabled`                                                                                                                                                                                      |
| `Then I fill color in :field for :value`                                                                                     | `When I fill in the color field :field with the value :value`                                                                                                                                                                  |
| `Then color field :field value is :value`                                                                                    | `Then the color field :field should have the value :value`                                                                                                                                                                     |
| `Then fill in WYSIWYG :field with :value`                                                                                    | `When I fill in the WYSIWYG field :field with the :value`                                                                                                                                                                      |
| &nbsp;
| **[`FileDownloadTrait`](src/FileDownloadTrait.php) ([example](tests/behat/features/file_download.feature))**                 |                                                                                                                                                                                                                                |
| `Then I download file from :url`                                                                                             | `When I download the file from the URL :url`                                                                                                                                                                                   |
| `Then I download file from link :link`                                                                                       | `When I download the file from the link :link`                                                                                                                                                                                 |
| `Then I see download :link link :presence(on the page)`                                                                      | `REMOVED`                                                                                                                                                                                                                      |
| `Then downloaded file contains:`                                                                                             | `Then the downloaded file should contain:`                                                                                                                                                                                     |
| `Then downloaded file name is :name`                                                                                         | `Then the downloaded file name should be :name`                                                                                                                                                                                |
| `NEW`                                                                                                                        | `Then the downloaded file name should contain :name`                                                                                                                                                                           |
| `Then downloaded file is zip archive that contains files:`                                                                   | `Then the downloaded file should be a zip archive containing the files named:`                                                                                                                                                 |
| `NEW`                                                                                                                        | `Then the downloaded file should be a zip archive containing the files partially named:`                                                                                                                                       |
| &nbsp;
| **[`FileTrait`](src/FileTrait.php) ([example](tests/behat/features/file.feature))**                                          |                                                                                                                                                                                                                                |
| `Given managed file:`                                                                                                        | `Given the following managed files:`                                                                                                                                                                                           |
| `Given no managed files:`                                                                                                    | `Given the following managed files do not exist:`                                                                                                                                                                              |
| `Given unmanaged file :uri created`                                                                                          | `Given the unmanaged file at the URI :uri exists`                                                                                                                                                                              |
| `Given unmanaged file :uri created with content :content`                                                                    | `Given the unmanaged file at the URI :uri exists with content:`                                                                                                                                                                |
| `Then unmanaged file :uri exists`                                                                                            | `Then an unmanaged file at the URI :uri should exist`                                                                                                                                                                          |
| `Then unmanaged file :uri does not exist`                                                                                    | `Then an unmanaged file at the URI :uri should not exist`                                                                                                                                                                      |
| `Then unmanaged file :uri has content :content`                                                                              | `Then an unmanaged file at the URI :uri should contain :content`                                                                                                                                                               |
| `Then unmanaged file :uri does not have content :content`                                                                    | `Then an unmanaged file at the URI :uri should not contain :content`                                                                                                                                                           |
| &nbsp;
| **[`JsTrait`](src/JsTrait.php) ([example](tests/behat/features/js.feature))**                                                |                                                                                                                                                                                                                                |
| `When I accept confirmation dialogs`                                                                                         | `Given I accept all confirmation dialogs`                                                                                                                                                                                      |
| `When I do not accept confirmation dialogs`                                                                                  | `Given I do not accept any confirmation dialogs`                                                                                                                                                                                      |
| `When /^(?:                                                                                                                  |I )click (an?|on) "(?P<element>[^"]*)" element$/`                                                                | `When I click on the element :selector`                                                                                                                                                                                      |
| `When I trigger JS :event event on :selector element`                                                                        | `When I trigger the JS event :event on the element :selector`                                                                                                                                                                                      |
| `Then /^I scroll to an? element with id "([^"]*)"$/`                                                                         | `When I scroll to the element :selector`                                                                                                                                                                                      |
| `Then the element with id :id should be at the top of the page`                                                              | `Then the element :selector should be at the top of the viewport`                                                                                                                                                                                      |
| &nbsp;
| **[`KeyboardTrait`](src/KeyboardTrait.php) ([example](tests/behat/features/keyboard.feature))**                              |                                                                                                                                                                                                                                |
| `Given I press the :keys keys`                                                                                               | `When I press the keys :keys`                                                                                                                                                                                                  |
| `Given I press the :keys keys on :selector`                                                                                  | `When I press the keys :keys on the element :selector`                                                                                                                                                                         |
| `Given I press the :char key`                                                                                                | `When I press the key :char`                                                                                                                                                                                                   |
| `Given I press the :char key on :selector`                                                                                   | `When I press the key :char on the element :selector`                                                                                                                                                                          |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`LinkTrait`](src/LinkTrait.php) ([example](tests/behat/features/link.feature))**                                          |                                                                                                                                                                                                                                |
| `Then I should see the link :text with :href`                                                                                | `Then the link :link with the href :href should exist`                                                                                                                                                                         |
| `Then I should see the link :text with :href in :locator`                                                                    | `Then the link :link with the href :href within the element :locator should exist`                                                                                                                                             |
| `Then I should not see the link :text with :href`                                                                            | `Then the link :link with the href :href should not exist`                                                                                                                                                                     |
| `Then I should not see the link :text with :href in :locator`                                                                | `Then the link :link with the href :href within the element :locator should not exist`                                                                                                                                         |
| `Then the link with title :title exists`                                                                                     | `Then the link with the title :title should exist`                                                                                                                                                                             |
| `Then the link with title :title does not exist`                                                                             | `Then the link with the title :title should not exist`                                                                                                                                                                         |
| `Then I click the link with title :title`                                                                                    | `When I click on the link with the title :title`                                                                                                                                                                               |
| `Then the link( with title) :text is an absolute link`                                                                       | `Then the link :link should be an absolute link`                                                                                                                                                                               |
| `Then the link( with title) :text is not an absolute link`                                                                   | `Then the link :link should not be an absolute link`                                                                                                                                                                           |
| &nbsp;
| **[`MediaTrait`](src/MediaTrait.php) ([example](tests/behat/features/media.feature))**                                       |                                                                                                                                                                                                                                |
| `Given no :type media type`                                                                                                  | `Given :media_type media type does not exist`                                                                                                                                                                         |
| `Given :type media:`                                                                                                         | `Given the following media :media_type exist:`                                                                                                                                                                         |
| `Given /^no ([a-zA-z0-9_-]+) media:$/`                                                                                       | `Given the following media :media_type do not exist:`                                                                                                                                                                         |
| `Navigate to edit media with specified type and name.`                                                                       | `When I edit the media :media_type with the name :name`                                                                                                                                                                         |
| &nbsp;
| **[`MenuTrait`](src/MenuTrait.php) ([example](tests/behat/features/menu.feature))**                                          |                                                                                                                                                                                                                                |
| `Given no menus:`                                                                                                            | `Given the menu :menu_name does not exist`                                                                                                                                                                         |
| `Given menus:`                                                                                                               | `Given the following menus:`                                                                                                                                                                         |
| `Given no :menu_name menu_links:`                                                                                            | `Given the following menu links do not exist in the menu :menu_name:`                                                                                                                                                                         |
| `Given :menu_name menu_links:`                                                                                               | `Given the following menu links exist in the menu :menu_name:`                                                                                                                                                                         |
| &nbsp;
| **[`MetatagTrait`](src/MetatagTrait.php) ([example](tests/behat/features/metatag.feature))**                                 |                                                                                                                                                                                                                                |
| `Then I should see a meta tag with the following attributes:`                                                                | `Then the meta tag should exist with the following attributes:`                                                                                                                                                                |
| `Then I should not see a meta tag with the following attributes:`                                                            | `Then the meta tag should not exist with the following attributes:`                                                                                                                                                            |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`ParagraphsTrait`](src/ParagraphsTrait.php) ([example](tests/behat/features/paragraphs.feature))**                        |                                                                                                                                                                                                                                |
| `When :field_name in :bundle :entity_type with :entity_field_name of :entity_field_identifer has :paragraph_type paragraph:` | `Given the following fields for the paragraph :paragraph_type exist in the field :parent_field within the :parent_bundle :parent_entity_type identified by the field :parent_lookup_field and the value :parent_lookup_value:` |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`PathTrait`](src/PathTrait.php) ([example](tests/behat/features/path.feature))**                                          |                                                                                                                                                                                                                                |
| `Then I should be in the :path path`                                                                                         | `Then the path should be :path`                                                                                                                                                                                                |
| `Then I should not be in the :path path`                                                                                     | `Then the path should not be :path`                                                                                                                                                                                            |
| `Then I :can visit :path with HTTP credentials :user :pass`                                                                  | `Given the basic authentication with the username :username and the password :password`                                                                                                                                        |
| `When I visit :path then the final URL should be :alias`                                                                     | Removed. Use `When I visit :path` and `Then the path should be :path`                                                                                                                                                          |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`ResponseTrait`](src/ResponseTrait.php) ([example](tests/behat/features/response.feature))**                              |                                                                                                                                                                                                                                |
| `Then response contains header :name`                                                                                        | `Then the response should contain the header :header_name`                                                                                                                                                                     |
| `Then response does not contain header :name`                                                                                | `Then the response should not contain the header :name`                                                                                                                                                                        |
| `Then response header :name contains :value`                                                                                 | `Then the response header :name should contain the value :value`                                                                                                                                                               |
| `Then response header :name does not contain :value`                                                                         | `Then the response header :name should not contain the value :value`                                                                                                                                                           |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`RoleTrait`](src/RoleTrait.php) ([example](tests/behat/features/role.feature))**                                          |                                                                                                                                                                                                                                |
| `Given role :name with permissions :permissions`                                                                             | `Given the role :role with the permissions :permissions`                                                                                                                                                                       |
| `Given roles:`                                                                                                               | `Given the following roles:`                                                                                                                                                                                                   |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`SelectTrait`](src/SelectTrait.php) ([example](tests/behat/features/select.feature))**                                    |                                                                                                                                                                                                                                |
| `Then select :select should have an option :option`                                                                          | `Then the option :option should exist within the select element :selector`                                                                                                                                                                       |
| `Then select :select should not have an option :option`                                                                      | `Then the option :option should not exist within the select element :selector`                                                                                                                                                                                                   |
| `Then /^the option "([^"]*)" from select "([^"]*)" is selected$/`                                                            | `Then the option :option should be selected within the select element :selector`                                                                                                                                                                                                   |
| `NEW`                                                                                                                        | `Then the option :option should not be selected within the select element :selector`                                                                                                                                                                                                   |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`SearchApiTrait`](src/SearchApiTrait.php) ([example](tests/behat/features/search.feature))**                              |                                                                                                                                                                                                                                |
| `When I index :type :title for search`                                                                                       | `When I add the :content_type content with the title :title to the search index`                                                                                                                                               |
| `When I index :limit Search API items`                                                                                       | `When I run search indexing for :count item(s)`                                                                                                                                                                                |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`TaxonomyTrait`](src/TaxonomyTrait.php) ([example](tests/behat/features/taxonomy.feature))**                              |                                                                                                                                                                                                                                |
| `Given no :vocabulary terms:`                                                                                                | `Given the following :vocabulary_machine_name vocabulary terms do not exist:`                                                                                                                                                  |
| `Given vocabulary :vid with name :name exists`                                                                               | `Then the vocabulary :machine_name with the name :name should exists`                                                                                                                                                          |
| `Given taxonomy term :name from vocabulary :vocabulary_id exists`                                                            | `Then the taxonomy term :term_name from the vocabulary :vocabulary_machine_name should exist`                                                                                                                                  |
| `When I visit :vocabulary vocabulary term :name`                                                                             | `When I visit the :vocabulary_machine_name vocabulary :term_name term page`                                                                                                                                                    |
| `When I edit :vocabulary vocabulary term :name`                                                                              | `When I edit the :vocabulary_machine_name vocabulary :term_name term page`                                                                                                                                                     |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`UserTrait`](src/UserTrait.php) ([example](tests/behat/features/user.feature))**                                          |                                                                                                                                                                                                                                |
| `Given no users:`                                                                                                            | `Given the following users do not exist:`                                                                                                                                                                                      |
| `When I visit user :name profile`                                                                                            | `When I visit :name user profile page`                                                                                                                                                                                         |
| `When I go to my profile edit page`                                                                                          | `When I visit my own user profile edit page`                                                                                                                                                                                   |
| `When I edit user :name profile`                                                                                             | `When I visit :name user profile edit page`                                                                                                                                                                                    |
| `Then user :name has :roles role(s) assigned`                                                                                | `Then the user :name should have the role(s) :roles assigned`                                                                                                                                                                  |
| `Then user :name does not have :roles role(s) assigned`                                                                      | `Then the user :name should not have the role(s) :roles assigned`                                                                                                                                                              |
| `Then user :name has :status status`                                                                                         | `Then the user :name should be blocked` and `Then the user :name should not be blocked`                                                                                                                                        |
| `Then I set user :user password to :password`                                                                                | `Given the password for the user :name is :password`                                                                                                                                                                           |
| `Then the last access time of user :name is :time`                                                                           | `Given the last access time for the user :name is :datetime`                                                                                                                                                                   |
| &nbsp;                                                                                                                       |                                                                                                                                                                                                                                |
| **[`WaitTrait`](src/WaitTrait.php) ([example](tests/behat/features/wait.feature))**                                          |                                                                                                                                                                                                                                |
| `Then /^(?:\|I )wait (\d+) second(s?)$/`                                                                                     | `When I wait for :number second(s)`                                                                                                                                                                                            |
| `Given I wait :timeout seconds for AJAX to finish`                                                                           | `When I wait for :number second(s) for AJAX to finish`                                                                                                                                                                         |
